!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.feathers=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(d){function e(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function f(a){var b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),b){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function g(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function h(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}}function i(){var a;try{a=c.storage.debug}catch(a){}return!a&&"undefined"!=typeof d&&"env"in d&&(a=d.env.DEBUG),a}function j(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=g,c.formatArgs=f,c.save=h,c.load=i,c.useColors=e,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:j(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}},c.enable(i())}).call(this,a("_process"))},{"./debug":2,_process:46}],2:[function(a,b,c){function d(a){var b,d=0;for(b in a)d=(d<<5)-d+a.charCodeAt(b),d|=0;return c.colors[Math.abs(d)%c.colors.length]}function e(a){function b(){if(b.enabled){var a=b,d=+new Date,e=d-(j||d);a.diff=e,a.prev=j,a.curr=d,j=d;for(var f=new Array(arguments.length),g=0;g<f.length;g++)f[g]=arguments[g];f[0]=c.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");var h=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var g=f[h];b=e.call(a,g),f.splice(h,1),h--}return b}),c.formatArgs.call(a,f);var i=b.log||c.log||console.log.bind(console);i.apply(a,f)}}return b.namespace=a,b.enabled=c.enabled(a),b.useColors=c.useColors(),b.color=d(a),"function"==typeof c.init&&c.init(b),b}function f(a){c.save(a),c.names=[],c.skips=[];for(var b=("string"==typeof a?a:"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e.debug=e.default=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j},{ms:45}],3:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./populate-header"),f=d(e),g=a("./populate-access-token"),h=d(g),i=a("./populate-entity"),j=d(i),k={populateHeader:f.default,populateAccessToken:h.default,populateEntity:j.default};c.default=k,b.exports=c.default},{"./populate-access-token":5,"./populate-entity":6,"./populate-header":7}],5:[function(a,b,c){"use strict";function d(){return function(a){var b=a.app;return"before"!==a.type?Promise.reject(new Error("The 'populateAccessToken' hook should only be used as a 'before' hook.")):(Object.assign(a.params,{accessToken:b.get("accessToken")}),Promise.resolve(a))}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],6:[function(a,b,c){"use strict";function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a.service)throw new Error("You need to pass 'options.service' to the populateEntity() hook.");if(!a.field)throw new Error("You need to pass 'options.field' to the populateEntity() hook.");if(!a.entity)throw new Error("You need to pass 'options.entity' to the populateEntity() hook.");return function(b){var c=b.app;return"after"!==b.type?Promise.reject(new Error("The 'populateEntity' hook should only be used as an 'after' hook.")):c.passport.verifyJWT(b.result.accessToken).then(function(b){var d=b[a.field];return d?c.service(a.service).get(d):Promise.reject(new Error("Access token payload is missing the '"+a.field+"' field."))}).then(function(d){return b.result[a.entity]=d,c.set(a.entity,d),Promise.resolve(b)})}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],7:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a.header)throw new Error("You need to pass 'options.header' to the populateHeader() hook.");return function(b){return"before"!==b.type?Promise.reject(new Error("The 'populateHeader' hook should only be used as a 'before' hook.")):(b.params.accessToken&&(b.params.headers=Object.assign({},d({},a.header,a.prefix?a.prefix+" "+b.params.accessToken:b.params.accessToken),b.params.headers)),Promise.resolve(b))}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,b.exports=c.default},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},j,a);return function(){var a=this;a.passport=new i.default(a,b),a.authenticate=a.passport.authenticate.bind(a.passport),a.logout=a.passport.logout.bind(a.passport),a.mixins.push(function(a){if("function"!=typeof a.before||"function"!=typeof a.after)throw new Error("It looks like feathers-hooks isn't configured. It is required before running feathers-authentication.");a.before(g.default.populateAccessToken(b))}),a.rest&&a.mixins.push(function(a){a.before(g.default.populateHeader(b))})}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("./hooks/index"),g=d(f),h=a("./passport"),i=d(h),j={header:"Authorization",cookie:"feathers-jwt",storageKey:"feathers-jwt",jwtStrategy:"jwt",path:"/authentication",entity:"user",service:"users",timeout:5e3};e.defaults=j,b.exports=c.default},{"./hooks/index":4,"./passport":9}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("feathers-errors"),h=d(g),i=a("jwt-decode"),j=d(i),k=a("debug"),l=d(k),m=a("./utils"),n=(0,l.default)("feathers-authentication-client"),o=function(){function a(b,c){if(e(this,a),b.passport)throw new Error("You have already registered authentication on this client app instance. You only need to do it once.");Object.assign(this,{options:c,app:b,payloadIsValid:m.payloadIsValid,getCookie:m.getCookie,clearCookie:m.clearCookie,storage:b.get("storage")||this.getStorage(c.storage)}),this.setJWT=this.setJWT.bind(this),b.set("storage",this.storage),this.getJWT().then(this.setJWT),this.setupSocketListeners()}return f(a,[{key:"setupSocketListeners",value:function(){var a=this,b=this.app,c=b.io||b.primus,d=b.io?"emit":"send",e=b.io?"reconnect":"reconnected";if(c){c.on(e,function(){if(n("Socket reconnected"),c.authenticated){var e={strategy:a.options.jwtStrategy,accessToken:b.get("accessToken")};a.authenticateSocket(e,c,d).then(a.setJWT).catch(function(a){n("Error re-authenticating after socket reconnect",a),c.authenticated=!1,b.emit("reauthentication-error",a)})}});var f=function(){c.io.engine.on("upgrade",function(){if(n("Socket upgrading"),c.authenticated){var e={strategy:a.options.jwtStrategy,accessToken:b.get("accessToken")};a.authenticateSocket(e,c,d).then(a.setJWT).catch(function(a){n("Error re-authenticating after socket upgrade",a),c.authenticated=!1,b.emit("reauthentication-error",a)})}})};c.io&&c.io.engine?f():c.on("connect",f)}}},{key:"connected",value:function(){var a=this,b=this.app;if(b.rest)return Promise.resolve();var c=b.io||b.primus;return c?b.io&&c.connected||b.primus&&3===c.readyState?(n("Socket already connected"),Promise.resolve(c)):new Promise(function(d,e){var f=b.primus?"open":"connect",g=b.io?"disconnect":"end",h=setTimeout(function(){n("Socket connection timed out"),e(new Error("Socket connection timed out"))},a.options.timeout);n("Waiting for socket connection");var i=function(){n("Socket disconnected before it could connect"),c.authenticated=!1};c.once(g,i),c.once(f,function(){n("Socket connected"),n("Removing "+g+" listener"),c.removeListener(g,i),clearTimeout(h),d(c)})}):Promise.reject(new Error("It looks like your client connection has not been configured."))}},{key:"authenticate",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=this.app,d=Promise.resolve(b);return b.strategy||(b.accessToken?b.strategy=this.options.jwtStrategy:d=this.getJWT().then(function(b){return b?{strategy:a.options.jwtStrategy,accessToken:b}:Promise.reject(new h.default.NotAuthenticated("Could not find stored JWT and no authentication strategy was given"))})),d.then(function(b){return a.connected(c).then(function(d){if(c.rest)return c.service(a.options.path).create(b).then(a.setJWT);var e=c.io?"emit":"send";return a.authenticateSocket(b,d,e).then(a.setJWT)})}).then(function(a){return c.emit("authenticated",a),a})}},{key:"authenticateSocket",value:function(a,b,c){var d=this;return new Promise(function(e,f){var g=setTimeout(function(){n("authenticateSocket timed out"),f(new Error("Authentication timed out"))},d.options.timeout);n("Attempting to authenticate socket"),b[c]("authenticate",a,function(a,c){return a?f(a):(clearTimeout(g),b.authenticated=!0,n("Socket authenticated!"),void e(c))})})}},{key:"logoutSocket",value:function(a,b){var c=this;return new Promise(function(d,e){var f=setTimeout(function(){n("logoutSocket timed out"),e(new Error("Logout timed out"))},c.options.timeout);a[b]("logout",function(b){return clearTimeout(f),a.authenticated=!1,b?e(b):void d()})})}},{key:"logout",value:function(){var a=this,b=this.app;return b.set("accessToken",null),this.clearCookie(this.options.cookie),Promise.resolve(b.get("storage").removeItem(this.options.storageKey)).then(function(){if(b.io||b.primus){var c=b.io?"emit":"send",d=b.io?b.io:b.primus;return a.logoutSocket(d,c)}}).then(function(a){return b.emit("logout",a),a})}},{key:"setJWT",value:function(a){var b=a&&a.accessToken?a.accessToken:a;return b&&(this.app.set("accessToken",b),this.app.get("storage").setItem(this.options.storageKey,b)),Promise.resolve(a)}},{key:"getJWT",value:function(){var a=this,b=this.app;return new Promise(function(c){var d=b.get("accessToken");return d?c(d):Promise.resolve(a.storage.getItem(a.options.storageKey)).then(function(b){var d=b||a.getCookie(a.options.cookie);return d&&"null"!==d&&!a.payloadIsValid((0,j.default)(d))&&(d=void 0),c(d)})})}},{key:"verifyJWT",value:function(a){if("string"!=typeof a)return Promise.reject(new Error("Token provided to verifyJWT is missing or not a string"));try{var b=(0,j.default)(a);return this.payloadIsValid(b)?Promise.resolve(b):Promise.reject(new Error("Invalid token: expired"))}catch(a){return Promise.reject(new Error("Cannot decode malformed token."))}}},{key:"getStorage",value:function(a){return a?a:new m.Storage}}]),a}();c.default=o,b.exports=c.default},{"./utils":10,debug:1,"feathers-errors":15,"jwt-decode":44}],10:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return a&&(!a.exp||1e3*a.exp>(new Date).getTime())}function f(a){if("undefined"!=typeof document){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2===c.length)return c.pop().split(";").shift()}return null}function g(a){return"undefined"!=typeof document&&(document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),null}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.payloadIsValid=e,c.getCookie=f,c.clearCookie=g;c.Storage=function(){function a(){d(this,a),this.store={}}return h(a,[{key:"getItem",value:function(a){return this.store[a]}},{key:"setItem",value:function(a,b){return this.store[a]=b}},{key:"removeItem",value:function(a){return delete this.store[a],this}}]),a}()},{}],11:[function(a,b,c){"use strict";function d(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function e(a,b){return k[a](b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=c.noop=function(){},g=function(a){var b=a[a.length-1];return"function"==typeof b?b:f},h=function(a,b){return"object"===d(a[b])?a[b]:{}},i=function(a){return function(b){var c=b[0],e=b[1],f=g(b),i=h(b,2);if("function"==typeof c)throw new Error("First parameter for '"+a+"' can not be a function");if("object"!==("undefined"==typeof e?"undefined":d(e)))throw new Error("No data provided for '"+a+"'");if(b.length>4)throw new Error("Too many arguments for '"+a+"' service method");return[c,e,i,f]}},j=function(a){return function(b){var c=b[0],d=h(b,1),e=g(b);if(b.length>3)throw new Error("Too many arguments for '"+a+"' service method");if("function"==typeof c)throw new Error("First parameter for '"+a+"' can not be a function");return[c,d,e]}},k=c.converters={find:function(a){var b=g(a),c=h(a,0);if(a.length>2)throw new Error("Too many arguments for 'find' service method");return[c,b]},create:function(a){var b=a[0],c=h(a,1),e=g(a);if("object"!==("undefined"==typeof b?"undefined":d(b)))throw new Error("First parameter for 'create' must be an object");if(a.length>3)throw new Error("Too many arguments for 'create' service method");return[b,c,e]},update:i("update"),patch:i("patch"),get:j("get"),remove:j("remove")}},{}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./arguments"),f=d(e),g=a("./utils"),h=a("./hooks"),i=d(h);c.default={_:g._,getArguments:f.default,stripSlashes:g.stripSlashes,hooks:i.default,matcher:g.matcher,sorter:g.sorter,select:g.select,makeUrl:g.makeUrl,each:g.each,some:g.some,every:g.every,keys:g.keys,values:g.values,isMatch:g.isMatch,isEmpty:g.isEmpty,isObject:g.isObject,extend:g.extend,omit:g.omit,pick:g.pick,merge:g.merge},b.exports=c.default},{"./arguments":11,"./hooks":13,"./utils":14}],13:[function(a,b,c){"use strict";function d(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function e(a){return{id:a[0],params:a[1],callback:a[2]}}function f(a){return{id:a[0],data:a[1],params:a[2],callback:a[3]}}function g(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],e=m[a](c);return e.method=a,e.type=b,"function"==typeof d?e.app=d:k(e,d),e}function h(a){var b=[];return"undefined"!=typeof a.id&&b.push(a.id),a.data&&b.push(a.data),b.push(a.params||{}),b.push(a.callback),b}function i(a){return"find"===a.method?[a.params,a.callback]:"get"===a.method||"remove"===a.method?[a.id,a.params,a.callback]:"update"===a.method||"patch"===a.method?[a.id,a.data,a.params,a.callback]:"create"===a.method?[a.data,a.params,a.callback]:h(a)}function j(a){var b={};return Array.isArray(a)?b={all:a}:"object"!==("undefined"==typeof a?"undefined":d(a))?b={all:[a]}:(0,l.each)(a,function(a,c){b[c]=Array.isArray(a)?a:[a]}),b}var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};Object.defineProperty(c,"__esModule",{value:!0});var l=a("./utils"),m={find:function(a){return{params:a[0],callback:a[1]}},create:function(a){return{data:a[0],params:a[1],callback:a[2]}},get:e,remove:e,update:f,patch:f};c.default={hookObject:g,hook:g,converters:m,defaultMakeArguments:h,makeArguments:i,convertHookData:j},b.exports=c.default},{"./utils":14}],14:[function(a,b,c){(function(a){"use strict";function b(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function d(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a){return a.replace(/^(\/*)|(\/*)$/g,"")}function g(a,b){a&&"function"==typeof a.forEach?a.forEach(b):n(a)&&Object.keys(a).forEach(function(c){return b(a[c],c)})}function h(a,b){return Object.keys(a).map(function(b){return[a[b],b]}).some(function(a){return b.apply(void 0,e(a))})}function i(a,b){return Object.keys(a).map(function(b){return[a[b],b]}).every(function(a){return b.apply(void 0,e(a))})}function j(a){return Object.keys(a)}function k(a){return x.keys(a).map(function(b){return a[b]})}function l(a,b){return x.keys(b).every(function(c){return a[c]===b[c]})}function m(a){return 0===x.keys(a).length}function n(a){return"object"===("undefined"==typeof a?"undefined":d(a))&&!Array.isArray(a)&&null!==a}function o(){return w.apply(void 0,arguments)}function p(a){for(var b=x.extend({},a),c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.forEach(function(a){return delete b[a]}),b}function q(a){for(var b={},c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.forEach(function(c){b[c]=a[c]}),b}function r(a,c){return n(a)&&n(c)&&Object.keys(c).forEach(function(d){n(c[d])?(a[d]||w(a,b({},d,{})),r(a[d],c[d])):w(a,b({},d,c[d]))}),a}function s(a){for(var b=a&&a.query&&a.query.$select,c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];Array.isArray(b)&&d.length&&b.push.apply(b,d);var g=function(a){return Array.isArray(b)?x.pick.apply(x,[a].concat(e(b))):a};return function(a){return Array.isArray(a)?a.map(g):g(a)}}function t(a){var b=x.omit(a,"$limit","$skip","$sort","$select");return function(a){return!(!b.$or||!x.some(b.$or,function(b){return t(b)(a)}))||x.every(b,function(c,e){return null!==c&&"object"===("undefined"==typeof c?"undefined":d(c))?x.every(c,function(b,c){if(y[c]){var d=y[c](e,b);return d(a)}return!1}):"undefined"!=typeof a[e]&&a[e]===b[e]})}}function u(a){return function(b,c){var d=0;return g(a,function(a,e){a=parseInt(a,10),b[e]<c[e]&&(d-=1*a),b[e]>c[e]&&(d+=1*a)}),d}}function v(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d="function"==typeof c.get?c.get.bind(c):function(){},e=d("env")||a.env.NODE_ENV,g=d("host")||a.env.HOST_NAME||"localhost",h="development"===e||"test"===e||void 0===e?"http":"https",i=d("port")||a.env.PORT||3030,j="development"===e||"test"===e||void 0===e?":"+i:"";return b=b||"",h+"://"+g+j+"/"+f(b)}var w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};Object.defineProperty(c,"__esModule",{value:!0}),c.stripSlashes=f,c.each=g,c.some=h,c.every=i,c.keys=j,c.values=k,c.isMatch=l,c.isEmpty=m,c.isObject=n,c.extend=o,c.omit=p,c.pick=q,c.merge=r,c.select=s,c.matcher=t,c.sorter=u,c.makeUrl=v;var x=c._={each:g,some:h,every:i,keys:j,values:k,isMatch:l,isEmpty:m,isObject:n,extend:o,omit:p,pick:q,merge:r},y=c.specialFilters={$in:function(a,b){return function(c){return b.indexOf(c[a])!==-1}},$nin:function(a,b){return function(c){return b.indexOf(c[a])===-1}},$lt:function(a,b){return function(c){return c[a]<b}},$lte:function(a,b){return function(c){return c[a]<=b}},$gt:function(a,b){return function(c){return c[a]>b}},$gte:function(a,b){return function(c){return c[a]>=b}},$ne:function(a,b){return function(c){return c[a]!==b}}}}).call(this,a("_process"))},{_process:46}],15:[function(a,b,c){"use strict";function d(a,b,c,d,e){a=a||"Error";var f=void 0,g=void 0,h=void 0;a instanceof Error?(g=a.message||"Error",a.errors&&(f=a.errors)):"object"===("undefined"==typeof a?"undefined":w(a))?(g=a.message||"Error",e=a):g=a,Error.call(this,g),e&&(h=v({},e),h.errors&&(f=h.errors,delete h.errors)),this.type="FeathersError",this.name=b,this.message=g,this.code=c,this.className=d,this.data=h,this.errors=f||{},x(this.name+"("+this.code+"): "+this.message)}function e(a,b){d.call(this,a,"BadRequest",400,"bad-request",b)}function f(a,b){d.call(this,a,"NotAuthenticated",401,"not-authenticated",b)}function g(a,b){d.call(this,a,"PaymentError",402,"payment-error",b)}function h(a,b){d.call(this,a,"Forbidden",403,"forbidden",b)}function i(a,b){d.call(this,a,"NotFound",404,"not-found",b)}function j(a,b){d.call(this,a,"MethodNotAllowed",405,"method-not-allowed",b)}function k(a,b){d.call(this,a,"NotAcceptable",406,"not-acceptable",b)}function l(a,b){d.call(this,a,"Timeout",408,"timeout",b)}function m(a,b){d.call(this,a,"Conflict",409,"conflict",b)}function n(a,b){d.call(this,a,"LengthRequired",411,"length-required",b)}function o(a,b){d.call(this,a,"Unprocessable",422,"unprocessable",b)}function p(a,b){d.call(this,a,"TooManyRequests",429,"too-many-requests",b)}function q(a,b){d.call(this,a,"GeneralError",500,"general-error",b)}function r(a,b){d.call(this,a,"NotImplemented",501,"not-implemented",b)}function s(a,b){d.call(this,a,"BadGateway",502,"bad-gateway",b)}function t(a,b){d.call(this,a,"Unavailable",503,"unavailable",b)}function u(a){if(!a)return a;var b=y[a.name],c=b?new b(a.message,a.data):new Error(a.message||a);return"object"===("undefined"==typeof a?"undefined":w(a))&&v(c,a),c}Object.defineProperty(c,"__esModule",{value:!0});var v=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},x=a("debug")("feathers-errors");d.prototype=new Error,d.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}},e.prototype=new d,f.prototype=new d,g.prototype=new d,h.prototype=new d,i.prototype=new d,j.prototype=new d,k.prototype=new d,l.prototype=new d,m.prototype=new d,n.prototype=new d,o.prototype=new d,p.prototype=new d,q.prototype=new d,r.prototype=new d,s.prototype=new d,t.prototype=new d;var y={FeathersError:d,BadRequest:e,NotAuthenticated:f,PaymentError:g,Forbidden:h,NotFound:i,MethodNotAllowed:j,NotAcceptable:k,Timeout:l,Conflict:m,LengthRequired:n,Unprocessable:o,TooManyRequests:p,GeneralError:q,NotImplemented:r,BadGateway:s,Unavailable:t,400:e,401:f,402:g,403:h,404:i,405:j,406:k,408:l,409:m,411:n,422:o,429:p,500:q,501:r,502:s,503:t};c.default=v({convert:u,types:y,errors:y},y),b.exports=c.default},{debug:1}],16:[function(a,b,c){"use strict";function d(a){return"object"===("undefined"==typeof a?"undefined":i(a))&&"string"==typeof a.method&&"string"==typeof a.type}function e(a,b){var c=this,e=b,f=function(a){if(a){if(!d(a))throw new Error(e.type+" hook for '"+e.method+"' method returned invalid hook object");e=a}return e},g=Promise.resolve(e);return a.forEach(function(a){var b=a.bind(c);g=2===b.length?g.then(function(a){return new Promise(function(c,d){b(a,function(a,b){return a?d(a):c(b)})})}):g.then(b),g=g.then(f)}),g.catch(function(a){throw a.hook=e,a})}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["before","after","error"];Object.defineProperty(a,"__hooks",{value:{}}),b.forEach(function(b){a.__hooks[b]={}})}function g(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=a.__hooks[c][d]||[],g=b.__hooks[c][d]||[];return e?g.concat(f):f.concat(g)}function h(a){for(var b={hooks:function(b){var c=this;return(0,j.each)(b,function(b,d){if(!c.__hooks[d])throw new Error("'"+d+"' is not a valid hook type");var e=j.hooks.convertHookData(b);(0,j.each)(e,function(b,c){if("all"!==c&&a.indexOf(c)===-1)throw new Error("'"+c+"' is not a valid hook method")}),a.forEach(function(a){if(e[a]||e.all){var b=c.__hooks[d][a]||(c.__hooks[d][a]=[]);e.all&&b.push.apply(b,e.all),e[a]&&b.push.apply(b,e[a])}})}),this}},c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return Object.assign.apply(Object,[b].concat(d))}Object.defineProperty(c,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isHookObject=d,c.processHooks=e,c.addHookTypes=f,c.getHooks=g,c.baseMixin=h;var j=a("feathers-commons")},{"feathers-commons":12}],17:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a){return"undefined"!=typeof a&&"function"==typeof a.then}function g(a){var b=this,c=b.methods,d={before:a.before,after:a.after},g=(0,l.baseMixin)(c,{before:function(a){return this.hooks({before:a})},after:function(a){return this.hooks({after:a})}});(0,l.addHookTypes)(a),c.forEach(function(c){"function"==typeof a[c]&&(g[c]=function(){var a=this,d=this,g=this._super.bind(this),h={app:b,service:d,get path(){return Object.keys(b.services).find(function(a){return b.services[a]===d})}},i=k.hooks.hookObject(c,"before",arguments,h),j={before:(0,l.getHooks)(b,this,"before",c),after:(0,l.getHooks)(b,this,"after",c,!0),error:(0,l.getHooks)(b,this,"error",c,!0)};return l.processHooks.call(this,j.before,i).then(function(a){return"undefined"!=typeof a.result?Promise.resolve(a):new Promise(function(b,c){var d=k.hooks.makeArguments(a),h=function(d,e){d?c(d):(a.result=e,b(a))};d.splice(d.length-1,1,h);var i=g.apply(void 0,e(d));f(i)&&i.then(function(a){return h(null,a)},h)})}).then(function(a){return Object.assign({},a,{type:"after"})}).then(l.processHooks.bind(this,j.after)).then(function(a){return a.result}).catch(function(b){var c=Object.assign({},b.hook||i,{type:"error",original:b.hook,error:b});return l.processHooks.call(a,j.error,c).then(function(a){return Promise.reject(a.error)})})})}),a.mixin(g),d.before&&a.before(d.before),d.after&&a.after(d.after)}function h(){return function(){var a=this;(0,l.addHookTypes)(a),j.default.mixin((0,l.baseMixin)(a.methods),a),this.mixins.unshift(g)}}Object.defineProperty(c,"__esModule",{value:!0});var i=a("uberproto"),j=d(i),k=a("feathers-commons"),l=a("./commons");c.default=h,b.exports=c.default},{"./commons":16,"feathers-commons":12,uberproto:54}],18:[function(a,b,c){b.exports=a("./lib/client")},{"./lib/client":19}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a,b){if(!a)throw new Error("Primus connection needs to be provided");var c=function(c){return new f.default(Object.assign({},b,{name:c,connection:a,method:"send"}))},d=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");
this.primus=a,this.defaultService=c};return d.Service=f.default,d.service=c,d};var e=a("feathers-socket-commons/client"),f=d(e);b.exports=c.default},{"feathers-socket-commons/client":28}],20:[function(a,b,c){b.exports=a("./lib/client/index")},{"./lib/client/index":24}],21:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./base"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"request",value:function(a){var b={url:a.url,method:a.method,data:a.body,headers:h({Accept:"application/json"},this.options.headers,a.headers)};return this.connection.request(b).then(function(a){return a.data}).catch(function(a){var b=a.response||a;throw b instanceof Error?b:b.data||b})}}]),b}(k.default);c.default=l,b.exports=c.default},{"./base":22}],22:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){throw(0,l.convert)(a)}Object.defineProperty(c,"__esModule",{value:!0});var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("qs"),j=d(i),k=a("feathers-commons"),l=a("feathers-errors"),m=function(){function a(b){e(this,a),this.name=(0,k.stripSlashes)(b.name),this.options=b.options,this.connection=b.connection,this.base=b.base+"/"+this.name}return h(a,[{key:"makeUrl",value:function(a,b){a=a||{};var c=this.base;if("undefined"!=typeof b&&null!==b&&(c+="/"+b),0!==Object.keys(a).length){var d=j.default.stringify(a);c+="?"+d}return c}},{key:"find",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.request({url:this.makeUrl(a.query),method:"GET",headers:g({},a.headers)}).catch(f)}},{key:"get",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"undefined"==typeof a?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(b.query,a),method:"GET",headers:g({},b.headers)}).catch(f)}},{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request({url:this.makeUrl(b.query),body:a,method:"POST",headers:g({"Content-Type":"application/json"},b.headers)}).catch(f)}},{key:"update",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"undefined"==typeof a?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(c.query,a),body:b,method:"PUT",headers:g({"Content-Type":"application/json"},c.headers)}).catch(f)}},{key:"patch",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"undefined"==typeof a?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(c.query,a),body:b,method:"PATCH",headers:g({"Content-Type":"application/json"},c.headers)}).catch(f)}},{key:"remove",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"undefined"==typeof a?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(b.query,a),method:"DELETE",headers:g({},b.headers)}).catch(f)}}]),a}();c.default=m,b.exports=c.default},{"feathers-commons":12,"feathers-errors":15,qs:48}],23:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./base"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"request",value:function(a){var b=h({},a);b.headers=h({Accept:"application/json"},this.options.headers,b.headers),a.body&&(b.body=JSON.stringify(a.body));var c=this.connection;return c(a.url,b).then(this.checkStatus).then(function(a){return 204===a.status?null:a.json()})}},{key:"checkStatus",value:function(a){return a.ok?a:a.json().then(function(b){throw b.response=a,b})}}]),b}(k.default);c.default=l,b.exports=c.default},{"./base":22}],24:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b={};return Object.keys(o).forEach(function(c){var d=o[c];b[c]=function(b){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!b)throw new Error(c+" has to be provided to feathers-rest");var f=function(c){return new d({base:a,name:c,connection:b,options:e})},g=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=b,this.defaultService=f};return g.Service=d,g.service=f,g}}),b};var e=a("./jquery"),f=d(e),g=a("./superagent"),h=d(g),i=a("./request"),j=d(i),k=a("./fetch"),l=d(k),m=a("./axios"),n=d(m),o={jquery:f.default,superagent:h.default,request:j.default,fetch:l.default,axios:n.default};b.exports=c.default},{"./axios":21,"./fetch":23,"./jquery":25,"./request":26,"./superagent":27}],25:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./base"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"request",value:function(a){var b=this,c=h({dataType:a.type||"json"},{headers:this.options.headers||{}},a);return a.body&&(c.data=JSON.stringify(a.body),c.contentType="application/json"),delete c.type,delete c.body,new Promise(function(a,d){b.connection.ajax(c).then(a,function(a){var b=a.responseText;try{b=JSON.parse(b)}catch(c){b=new Error(a.responseText)}b.xhr=b.response=a,d(b)})})}}]),b}(k.default);c.default=l,b.exports=c.default},{"./base":22}],26:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./base"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),i(b,[{key:"request",value:function(a){var b=this;return new Promise(function(c,d){b.connection(h({json:!0},a),function(a,b,e){return a?d(a):!a&&b.statusCode>=400?"string"==typeof e?d(new Error(e)):(e.response=b,d(h(new Error(e.message),e))):void c(e)})})}}]),b}(k.default);c.default=l,b.exports=c.default},{"./base":22}],27:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./base"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"request",value:function(a){var b=this.connection(a.method,a.url).set(this.options.headers||{}).set("Accept","application/json").set(a.headers||{}).type(a.type||"json");return new Promise(function(c,d){b.set(a.headers),a.body&&b.send(a.body),b.end(function(a,b){if(a){try{var e=a.response;a=JSON.parse(a.response.text),a.response=e}catch(a){}return d(a)}c(b&&b.body)})})}}]),b}(j.default);c.default=k,b.exports=c.default},{"./base":22}],28:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{"./lib/client":29,dup:18}],29:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./utils"),g=a("feathers-errors"),h=a("debug")("feathers-socket-commons:client"),i=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],j=["eventNames","getMaxListeners","setMaxListeners"],k=function(a){j.forEach(function(b){a[b]=function(){var a;if("function"!=typeof this.connection[b])throw new Error("Can not call '"+b+"' on the client service connection.");return(a=this.connection)[b].apply(a,arguments)}}),i.forEach(function(b){a[b]=function(a){var c;if("function"!=typeof this.connection[b])throw new Error("Can not call '"+b+"' on the client service connection.");var d=this.path+" "+a;h("Calling emitter method "+b+" with "+("namespaced event '"+d+"'"));for(var e=arguments.length,f=Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];var i=(c=this.connection)[b].apply(c,[d].concat(f));return i===this.connection?this:i}})},l=function(){function a(b){d(this,a),this.events=f.events,this.path=b.name,this.connection=b.connection,this.method=b.method,this.timeout=b.timeout||5e3,k(this)}return e(a,[{key:"send",value:function(a){for(var b=this,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=null;return"function"==typeof d[d.length-1]&&(f=d.pop()),new Promise(function(c,e){var i,j=b.path+"::"+a,k=setTimeout(function(){return e(new Error("Timeout of "+b.timeout+"ms exceeded calling "+j))},b.timeout);d.unshift(j),d.push(function(a,b){return a=(0,g.convert)(a),clearTimeout(k),f&&f(a,b),a?e(a):c(b)}),h("Sending socket."+b.method,d),(i=b.connection)[b.method].apply(i,d)})}},{key:"find",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.send("find",a.query||{})}},{key:"get",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("get",a,b.query||{})}},{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("create",a,b.query||{})}},{key:"update",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("update",a,b,c.query||{})}},{key:"patch",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("patch",a,b,c.query||{})}},{key:"remove",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("remove",a,b.query||{})}},{key:"off",value:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if("function"==typeof this.connection.off){var e;return(e=this.connection).off.apply(e,[this.path+" "+a].concat(c))}return 0===c.length?this.removeAllListeners(a):this.removeListener.apply(this,[a].concat(c))}}]),a}();c.default=l,b.exports=c.default},{"./utils":30,debug:1,"feathers-errors":15}],30:[function(a,b,c){(function(b){"use strict";function d(a){return h.hooks.convertHookData(a)}function e(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return new Promise(function(c,e){a.apply(b,d.concat(function(a,b){return a?e(a):void c(b)}))})}function f(a){var c={};return Object.getOwnPropertyNames(a).forEach(function(b){return c[b]=a[b]}),"production"===b.env.NODE_ENV&&delete c.stack,delete c.hook,c}function g(a){var b=[];return 2===a.length&&Array.isArray(a[0])?(b=a[0],b.push(a[1]),b):a}Object.defineProperty(c,"__esModule",{value:!0}),c.events=c.eventMappings=void 0,c.convertFilterData=d,c.promisify=e,c.normalizeError=f,c.normalizeArgs=g;var h=a("feathers-commons"),i=c.eventMappings={create:"created",update:"updated",patch:"patched",remove:"removed"};c.events=Object.keys(i).map(function(a){return i[a]})}).call(this,a("_process"))},{_process:46,"feathers-commons":12}],31:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{"./lib/client":32,dup:18}],32:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.default=function(a,b){if(!a)throw new Error("Socket.io connection needs to be provided");var c=function(c){var d=e({},b,{name:c,connection:a,method:"emit"});return new g.default(d)},d=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.io=a,this.defaultService=c};return d.Service=g.default,d.service=c,d};var f=a("feathers-socket-commons/client"),g=d(f);b.exports=c.default},{"feathers-socket-commons/client":28}],33:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"./lib/client/index":36,dup:20}],34:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("debug"),f=d(e),g=a("feathers-commons"),h=a("uberproto"),i=d(h),j=a("./mixins/index"),k=d(j),l=(0,f.default)("feathers:application"),m=["find","get","create","update","patch","remove"],n=i.default.extend({create:null});c.default={init:function(){Object.assign(this,{methods:m,mixins:(0,k.default)(),services:{},providers:[],_setup:!1})},service:function(a,b){var c=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a=(0,g.stripSlashes)(a),!b){var e=this.services[a];return"undefined"==typeof e&&"function"==typeof this.defaultService?this.service(a,this.defaultService(a),d):e}var f=n.extend(b);return l("Registering new service at `"+a+"`"),this.mixins.forEach(function(a){return a.call(c,f)}),"function"==typeof f._setup&&f._setup(this,a),this.providers.forEach(function(b){return b.call(c,a,f,d)}),this._isSetup&&"function"==typeof f.setup&&(l("Setting up service for `"+a+"`"),f.setup(this,a)),this.services[a]=f},use:function(a){var b=void 0,c=Array.from(arguments).slice(1).reduce(function(a,c){if("function"==typeof c)a[b?"after":"before"].push(c);else{if(b)throw new Error("invalid arg passed to app.use");b=c}return a},{before:[],after:[]}),d=function(a){return a.some(function(a){return b&&"function"==typeof b[a]})};return d(["handle","set"])||!d(this.methods.concat("setup"))?this._super.apply(this,arguments):(this.service(a,b,{middleware:c}),this)},setup:function(){var a=this;return Object.keys(this.services).forEach(function(b){var c=a.services[b];l("Setting up service for `"+b+"`"),"function"==typeof c.setup&&c.setup(a,b)}),this._isSetup=!0,this},configure:function(a){return a.call(this),this},listen:function(){var a=this._super.apply(this,arguments);return this.setup(a),l("Feathers application listening"),a}},b.exports=c.default},{"./mixins/index":39,debug:1,"feathers-commons":12,uberproto:54}],35:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var a={settings:{},get:function(a){return this.settings[a]},set:function(a,b){return this.settings[a]=b,this},disable:function(a){return this.settings[a]=!1,this},disabled:function(a){return!this.settings[a]},enable:function(a){return this.settings[a]=!0,this},enabled:function(a){return!!this.settings[a]},use:function(){throw new Error("Middleware functions can not be used in the Feathers client")},listen:function(){return{}}};return g.default.mixin(e.EventEmitter.prototype,a),a};var e=a("events"),f=a("uberproto"),g=d(f);b.exports=c.default},{events:3,uberproto:54}],36:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){return(0,g.default)(i.default.apply(void 0,arguments))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("../feathers"),g=d(f),h=a("./express"),i=d(h);e.version="2.0.1",b.exports=c.default},{"../feathers":37,"./express":35}],37:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return g.default.mixin(i.default,a),a.init(),a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("uberproto"),g=d(f),h=a("./application"),i=d(h);b.exports=c.default},{"./application":34,uberproto:54}],38:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return a.charAt(0).toUpperCase()+a.substring(1)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){var b=this,c="function"==typeof a.on&&"function"==typeof a.emit,d=a._rubberDuck=g.default.emitter(a);"function"!=typeof a.mixin||c||a.mixin(h.EventEmitter.prototype),a._serviceEvents=Array.isArray(a.events)?a.events.slice():[],d.on("error",function(b){a.emit("serviceError",b[0])}),Object.keys(k).forEach(function(c){var f=k[c],g=a._serviceEvents.indexOf(f)!==-1;if("function"==typeof a[c]&&!g){var h="after"+e(c);a._serviceEvents.push(f),d.punch(c,-1),d.on(h,function(d,e){if(d[0])a.emit("serviceError",d[0]);else{var g=j(c,"after",e),h=Array.isArray(d[1])?d[1]:[d[1]];g.app=b,h.forEach(function(b){return a.emit(f,b,g)})}})}})};var f=a("rubberduck"),g=d(f),h=a("events"),i=a("feathers-commons"),j=i.hooks.hookObject,k={create:"created",update:"updated",remove:"removed",patch:"patched"};b.exports=c.default},{events:3,"feathers-commons":12,rubberduck:52}],39:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var b=[a("./promise"),a("./event"),a("./normalizer")];return b.push=function(){var a=[this.length-1,0].concat(Array.from(arguments));return this.splice.apply(this,a),this.length},b},b.exports=c.default},{"./event":38,"./normalizer":40,"./promise":41}],40:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){if("function"==typeof a.mixin){var b={};this.methods.forEach(function(c){"function"==typeof a[c]&&(b[c]=function(){return this._super.apply(this,(0,d.getArguments)(c,arguments))})}),a.mixin(b)}};var d=a("feathers-commons");b.exports=c.default},{"feathers-commons":12}],41:[function(a,b,c){"use strict";function d(a){return"undefined"!=typeof a&&"function"==typeof a.then}function e(){var a=this._super.apply(this,arguments),b=arguments[arguments.length-1];return"function"==typeof b&&d(a)&&a.then(function(a){return b(null,a)},function(a){return b(a)}),a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){if("function"==typeof a.mixin){var b={};this.methods.forEach(function(c){"function"==typeof a[c]&&(b[c]=e)}),a.mixin(b)}},b.exports=c.default},{}],42:[function(a,b,c){function d(a){this.message=a}function e(a){var b=String(a).replace(/=+$/,"");if(b.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,g=0,h=0,i="";e=b.charAt(h++);~e&&(c=g%4?64*c+e:e,g++%4)?i+=String.fromCharCode(255&c>>(-2*g&6)):0)e=f.indexOf(e);return i}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.prototype=new Error,d.prototype.name="InvalidCharacterError",b.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||e},{}],43:[function(a,b,c){function d(a){return decodeURIComponent(e(a).replace(/(.)/g,function(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}var e=a("./atob");b.exports=function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw"Illegal base64url string!"}try{return d(b)}catch(a){return e(b)}}},{"./atob":42}],44:[function(a,b,c){"use strict";function d(a){this.message=a}var e=a("./base64_url_decode");d.prototype=new Error,d.prototype.name="InvalidTokenError",b.exports=function(a,b){if("string"!=typeof a)throw new d("Invalid token specified");b=b||{};var c=b.header===!0?0:1;try{return JSON.parse(e(a.split(".")[c]))}catch(a){throw new d("Invalid token specified: "+a.message)}},b.exports.InvalidTokenError=d},{"./base64_url_decode":43}],45:[function(a,b,c){function d(a){if(a=String(a),!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){b=b||{};var c=typeof a;if("string"===c&&a.length>0)return d(a);if("number"===c&&isNaN(a)===!1)return b.long?f(a):e(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],46:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],47:[function(a,b,c){"use strict";var d=String.prototype.replace,e=/%20/g;b.exports={default:"RFC3986",formatters:{RFC1738:function(a){return d.call(a,e,"+")},RFC3986:function(a){return a}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],48:[function(a,b,c){"use strict";var d=a("./stringify"),e=a("./parse"),f=a("./formats");b.exports={formats:f,parse:e,stringify:d}},{"./formats":47,"./parse":49,"./stringify":50}],49:[function(a,b,c){"use strict";var d=a("./utils"),e=Object.prototype.hasOwnProperty,f={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:d.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},g=function(a,b){for(var c={},d=a.split(b.delimiter,b.parameterLimit===1/0?void 0:b.parameterLimit),f=0;f<d.length;++f){var g,h,i=d[f],j=i.indexOf("]=")===-1?i.indexOf("="):i.indexOf("]=")+1;j===-1?(g=b.decoder(i),h=b.strictNullHandling?null:""):(g=b.decoder(i.slice(0,j)),h=b.decoder(i.slice(j+1))),e.call(c,g)?c[g]=[].concat(c[g]).concat(h):c[g]=h}return c},h=function(a,b,c){if(!a.length)return b;var d,e=a.shift();if("[]"===e)d=[],d=d.concat(h(a,b,c));else{d=c.plainObjects?Object.create(null):{};var f="["===e.charAt(0)&&"]"===e.charAt(e.length-1)?e.slice(1,-1):e,g=parseInt(f,10);!isNaN(g)&&e!==f&&String(g)===f&&g>=0&&c.parseArrays&&g<=c.arrayLimit?(d=[],d[g]=h(a,b,c)):d[f]=h(a,b,c)}return d},i=function(a,b,c){if(a){var d=c.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a,f=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,i=f.exec(d),j=i?d.slice(0,i.index):d,k=[];if(j){if(!c.plainObjects&&e.call(Object.prototype,j)&&!c.allowPrototypes)return;k.push(j)}for(var l=0;null!==(i=g.exec(d))&&l<c.depth;){if(l+=1,!c.plainObjects&&e.call(Object.prototype,i[1].slice(1,-1))&&!c.allowPrototypes)return;k.push(i[1])}return i&&k.push("["+d.slice(i.index)+"]"),h(k,b,c)}};b.exports=function(a,b){var c=b||{};if(null!==c.decoder&&void 0!==c.decoder&&"function"!=typeof c.decoder)throw new TypeError("Decoder has to be a function.");if(c.delimiter="string"==typeof c.delimiter||d.isRegExp(c.delimiter)?c.delimiter:f.delimiter,c.depth="number"==typeof c.depth?c.depth:f.depth,c.arrayLimit="number"==typeof c.arrayLimit?c.arrayLimit:f.arrayLimit,c.parseArrays=c.parseArrays!==!1,c.decoder="function"==typeof c.decoder?c.decoder:f.decoder,c.allowDots="boolean"==typeof c.allowDots?c.allowDots:f.allowDots,c.plainObjects="boolean"==typeof c.plainObjects?c.plainObjects:f.plainObjects,c.allowPrototypes="boolean"==typeof c.allowPrototypes?c.allowPrototypes:f.allowPrototypes,c.parameterLimit="number"==typeof c.parameterLimit?c.parameterLimit:f.parameterLimit,c.strictNullHandling="boolean"==typeof c.strictNullHandling?c.strictNullHandling:f.strictNullHandling,""===a||null===a||"undefined"==typeof a)return c.plainObjects?Object.create(null):{};for(var e="string"==typeof a?g(a,c):a,h=c.plainObjects?Object.create(null):{},j=Object.keys(e),k=0;k<j.length;++k){var l=j[k],m=i(l,e[l],c);h=d.merge(h,m,c)}return d.compact(h)}},{"./utils":51}],50:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./formats"),f={brackets:function(a){return a+"[]"},indices:function(a,b){return a+"["+b+"]"},repeat:function(a){return a}},g=Date.prototype.toISOString,h={delimiter:"&",encode:!0,encoder:d.encode,encodeValuesOnly:!1,serializeDate:function(a){return g.call(a)},skipNulls:!1,strictNullHandling:!1},i=function a(b,c,e,f,g,h,i,j,k,l,m,n){var o=b;if("function"==typeof i)o=i(c,o);else if(o instanceof Date)o=l(o);else if(null===o){if(f)return h&&!n?h(c):c;o=""}if("string"==typeof o||"number"==typeof o||"boolean"==typeof o||d.isBuffer(o)){if(h){var p=n?c:h(c);return[m(p)+"="+m(h(o))]}return[m(c)+"="+m(String(o))]}var q=[];if("undefined"==typeof o)return q;var r;if(Array.isArray(i))r=i;else{var s=Object.keys(o);r=j?s.sort(j):s}for(var t=0;t<r.length;++t){var u=r[t];g&&null===o[u]||(q=Array.isArray(o)?q.concat(a(o[u],e(c,u),e,f,g,h,i,j,k,l,m,n)):q.concat(a(o[u],c+(k?"."+u:"["+u+"]"),e,f,g,h,i,j,k,l,m,n)))}return q};b.exports=function(a,b){var c=a,d=b||{};if(null!==d.encoder&&void 0!==d.encoder&&"function"!=typeof d.encoder)throw new TypeError("Encoder has to be a function.");var g="undefined"==typeof d.delimiter?h.delimiter:d.delimiter,j="boolean"==typeof d.strictNullHandling?d.strictNullHandling:h.strictNullHandling,k="boolean"==typeof d.skipNulls?d.skipNulls:h.skipNulls,l="boolean"==typeof d.encode?d.encode:h.encode,m="function"==typeof d.encoder?d.encoder:h.encoder,n="function"==typeof d.sort?d.sort:null,o="undefined"!=typeof d.allowDots&&d.allowDots,p="function"==typeof d.serializeDate?d.serializeDate:h.serializeDate,q="boolean"==typeof d.encodeValuesOnly?d.encodeValuesOnly:h.encodeValuesOnly;
if("undefined"==typeof d.format)d.format=e.default;else if(!Object.prototype.hasOwnProperty.call(e.formatters,d.format))throw new TypeError("Unknown format option provided.");var r,s,t=e.formatters[d.format];"function"==typeof d.filter?(s=d.filter,c=s("",c)):Array.isArray(d.filter)&&(s=d.filter,r=s);var u=[];if("object"!=typeof c||null===c)return"";var v;v=d.arrayFormat in f?d.arrayFormat:"indices"in d?d.indices?"indices":"repeat":"indices";var w=f[v];r||(r=Object.keys(c)),n&&r.sort(n);for(var x=0;x<r.length;++x){var y=r[x];k&&null===c[y]||(u=u.concat(i(c[y],y,w,j,k,l?m:null,s,n,o,p,t,q)))}return u.join(g)}},{"./formats":47,"./utils":51}],51:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=function(){for(var a=[],b=0;b<256;++b)a.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return a}();c.arrayToObject=function(a,b){for(var c=b&&b.plainObjects?Object.create(null):{},d=0;d<a.length;++d)"undefined"!=typeof a[d]&&(c[d]=a[d]);return c},c.merge=function(a,b,e){if(!b)return a;if("object"!=typeof b){if(Array.isArray(a))a.push(b);else{if("object"!=typeof a)return[a,b];(e.plainObjects||e.allowPrototypes||!d.call(Object.prototype,b))&&(a[b]=!0)}return a}if("object"!=typeof a)return[a].concat(b);var f=a;return Array.isArray(a)&&!Array.isArray(b)&&(f=c.arrayToObject(a,e)),Array.isArray(a)&&Array.isArray(b)?(b.forEach(function(b,f){d.call(a,f)?a[f]&&"object"==typeof a[f]?a[f]=c.merge(a[f],b,e):a.push(b):a[f]=b}),a):Object.keys(b).reduce(function(a,d){var f=b[d];return Object.prototype.hasOwnProperty.call(a,d)?a[d]=c.merge(a[d],f,e):a[d]=f,a},f)},c.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},c.encode=function(a){if(0===a.length)return a;for(var b="string"==typeof a?a:String(a),c="",d=0;d<b.length;++d){var f=b.charCodeAt(d);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122?c+=b.charAt(d):f<128?c+=e[f]:f<2048?c+=e[192|f>>6]+e[128|63&f]:f<55296||f>=57344?c+=e[224|f>>12]+e[128|f>>6&63]+e[128|63&f]:(d+=1,f=65536+((1023&f)<<10|1023&b.charCodeAt(d)),c+=e[240|f>>18]+e[128|f>>12&63]+e[128|f>>6&63]+e[128|63&f])}return c},c.compact=function(a,b){if("object"!=typeof a||null===a)return a;var d=b||[],e=d.indexOf(a);if(e!==-1)return d[e];if(d.push(a),Array.isArray(a)){for(var f=[],g=0;g<a.length;++g)a[g]&&"object"==typeof a[g]?f.push(c.compact(a[g],d)):"undefined"!=typeof a[g]&&f.push(a[g]);return f}var h=Object.keys(a);return h.forEach(function(b){a[b]=c.compact(a[b],d)}),a},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.isBuffer=function(a){return null!==a&&"undefined"!=typeof a&&!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}},{}],52:[function(require,module,exports){var events=require("events"),utils=require("./utils"),wrap=exports.wrap={fn:function(emitter,fn,strict,name,scope){var wrapped=function(){var a;utils.emitEvents(emitter,"before",name,[arguments,this,name]);try{a=fn.apply(scope||this,arguments)}catch(a){throw utils.emitEvents(emitter,"error",name,[a,arguments,this,name]),a}return utils.emitEvents(emitter,"after",name,[a,arguments,this,name]),a};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped},async:function(emitter,fn,position,strict,name,scope){var wrapped=function(){var a=position==-1?arguments.length-1:position||0,b=arguments[a],c=this,d=arguments,e=function(){try{b.apply(c,arguments)}catch(a){throw utils.emitEvents(emitter,"error",name,[a,d,c,name]),a}var a=arguments[0]instanceof Error?"error":"after";utils.emitEvents(emitter,a,name,[arguments,d,c,name])};utils.emitEvents(emitter,"before",name,[d,this,name]),d[a]=e;try{return fn.apply(scope||this,d)}catch(a){throw utils.emitEvents(emitter,"error",name,[a,d,c,name]),a}};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped}},Emitter=exports.Emitter=function(a){this.obj=a};Emitter.prototype=Object.create(events.EventEmitter.prototype),Emitter.prototype.punch=function(a,b,c){if(Array.isArray(a)){var d=this;a.forEach(function(a){d.punch(a,b,c)})}else{var e=this.obj[a];"function"==typeof e&&(this.obj[a]=b||0===b?wrap.async(this,e,b,c,a):wrap.fn(this,e,c,a))}return this},exports.emitter=function(a){return new Emitter(a)}},{"./utils":53,events:3}],53:[function(a,b,c){c.toBase26=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyz";a>25;){var d=a%26;b=c.charAt(d)+b,a=Math.floor(a/26)-1}return b=c.charAt(a)+b},c.makeFakeArgs=function(a){for(var b=[],d=0;d<a;d++)b.push(c.toBase26(d));return b.join(",")},c.addArgs=function(a,b){return a.replace(/function\s*\(\)/,"function("+c.makeFakeArgs(b)+")")},c.emitEvents=function(a,b,c,d){var e=c?c.replace(/^\w/,function(a){return a.toUpperCase()}):null;a.emit.apply(a,[b].concat(d)),e&&a.emit.apply(a,[b+e].concat(d))}},{}],54:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.Proto=d()}(this,function(){function a(a,b,c,d){return function(){var e=this._super;this._super="function"==typeof b?b:a[c];var f=d.apply(this,arguments);return this._super=e,f}}function b(b,c){var d,e=c||this,f=/\b_super\b/,g=Object.getPrototypeOf(e)||e.prototype;for(var h in b)d=e[h],("function"==typeof b[h]&&"function"==typeof g[h]||"function"==typeof d&&"function"==typeof b[h])&&f.test(b[h])?e[h]=a(g,d,h,b[h]):e[h]=b[h];return e}function c(b,c){var d=c||this,e=/\b_super\b/,f=Object.getPrototypeOf(d)||d.prototype,g={},h=b,i=function(a){g[a]||(g[a]=Object.getOwnPropertyDescriptor(h,a))};do Object.getOwnPropertyNames(h).forEach(i);while((h=Object.getPrototypeOf(h))&&Object.getPrototypeOf(h));return Object.keys(g).forEach(function(b){var c=g[b];"function"==typeof c.value&&e.test(c.value)&&(c.value=a(f,d[b],b,c.value)),Object.defineProperty(d,b,c)}),d}return{create:function(){var a=Object.create(this),b="string"==typeof a.__init?a.__init:"init";return"function"==typeof a[b]&&a[b].apply(a,arguments),a},mixin:"function"==typeof Object.defineProperty?c:b,extend:function(a,b){return this.mixin(a,Object.create(b||this))},proxy:function(a){var b=this[a],c=Array.prototype.slice.call(arguments,1);return c.unshift(this),b.bind.apply(b,c)}}})},{}],55:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("feathers/client"),f=d(e),g=a("feathers-hooks"),h=d(g),i=a("feathers-errors"),j=d(i),k=a("feathers-authentication-client"),l=d(k),m=a("feathers-rest/client"),n=d(m),o=a("feathers-socketio/client"),p=d(o),q=a("feathers-primus/client"),r=d(q);Object.assign(f.default,{socketio:p.default,primus:r.default,rest:n.default,hooks:h.default,authentication:l.default,errors:j.default}),c.default=f.default,b.exports=c.default},{"feathers-authentication-client":8,"feathers-errors":15,"feathers-hooks":17,"feathers-primus/client":18,"feathers-rest/client":20,"feathers-socketio/client":31,"feathers/client":33}]},{},[55])(55)}),/**
 * ngFeathers
 *
 * @version 1.7.2
 * @author Maik Hummel <m@ikhummel.com>
 * @license MIT
 */
angular.module("ngFeathers",[]).provider("$feathers",[function(){var a=null,b=null,c=!0,d=window.localStorage;return{setAuthStorage:function(a){d=a},setSocketOpts:function(a){b=a},useSocket:function(a){c=!!a},setEndpoint:function(b){a=b},$get:[function(){return this.app=feathers().configure(feathers.hooks()),c?(this.socket=io(a,b),this.app.configure(feathers.socketio(this.socket))):this.app.configure(feathers.rest(a).jquery(window.jQuery)),this.app.configure(feathers.authentication({storage:d})),this.app}]}}]);